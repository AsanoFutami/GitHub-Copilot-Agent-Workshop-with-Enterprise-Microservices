<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout}">
<head>
    <title>Azure SkiShop - あなたのスキーライフをサポート</title>
</head>
<body>
    <div layout:fragment="content">
        <!-- Hero Section -->
        <section class="hero-section text-center">
            <div class="container">
                <h1 class="display-4 fw-bold mb-4">Azure SkiShop へようこそ</h1>
                <p class="lead mb-4">最高品質のスキー・スノーボード用品で、あなたの冬のアドベンチャーを始めよう</p>
                <a href="/products" class="btn btn-primary btn-lg me-3">商品を見る</a>
                <a href="/ai-chat" class="btn btn-outline-light btn-lg">AI相談を始める</a>
            </div>
        </section>

        <!-- Featured Categories -->
        <section class="py-5">
            <div class="container">
                <h2 class="text-center mb-5">人気カテゴリ</h2>
                <div class="row g-4">
                    <div class="col-md-3">
                        <div class="card category-card">
                            <img src="/images/categories/ski.png" class="card-img-top" alt="スキー" style="height: 200px; object-fit: cover;">
                            <div class="card-body text-center">
                                <h5 class="card-title">スキー</h5>
                                <p class="card-text">オールラウンド、パウダー、レーシングスキー</p>
                                <a href="/products?category=ski" class="btn btn-primary">商品を見る</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card category-card">
                            <img src="/images/categories/snowboard.png" class="card-img-top" alt="スノーボード" style="height: 200px; object-fit: cover;">
                            <div class="card-body text-center">
                                <h5 class="card-title">スノーボード</h5>
                                <p class="card-text">フリースタイル、オールマウンテン</p>
                                <a href="/products?category=snowboard" class="btn btn-primary">商品を見る</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card category-card">
                            <img src="/images/categories/wear.png" class="card-img-top" alt="ウェア" style="height: 200px; object-fit: cover;">
                            <div class="card-body text-center">
                                <h5 class="card-title">ウェア</h5>
                                <p class="card-text">ジャケット、パンツ、アンダーウェア</p>
                                <a href="/products?category=wear" class="btn btn-primary">商品を見る</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card category-card">
                            <img src="/images/categories/accessories.png" class="card-img-top" alt="アクセサリー" style="height: 200px; object-fit: cover;">
                            <div class="card-body text-center">
                                <h5 class="card-title">アクセサリー</h5>
                                <p class="card-text">ゴーグル、グローブ、ヘルメット</p>
                                <a href="/products?category=accessories" class="btn btn-primary">商品を見る</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Featured Products -->
        <section class="py-5 bg-light">
            <div class="container">
                <h2 class="text-center mb-5">おすすめ商品</h2>
                <div class="row g-4" th:if="${featuredProducts}">
                    <div class="col-md-3" th:each="product : ${featuredProducts}">
                        <div class="card product-card h-100">
                            <img th:src="${product.imageUrls != null and !product.imageUrls.isEmpty() ? product.imageUrls[0] : '/images/no-image.jpg'}" 
                                 class="card-img-top" th:alt="${product.name}">
                            <div class="card-body d-flex flex-column">
                                <h6 class="card-title" th:text="${product.name}">商品名</h6>
                                <p class="card-text text-muted small" th:text="${product.brand}">ブランド名</p>
                                <div class="mt-auto">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <span class="h5 mb-0" th:text="'¥' + ${#numbers.formatInteger(product.price, 3, 'COMMA')}">¥0</span>
                                        <div class="text-warning" th:if="${product.rating > 0}">
                                            <i class="fas fa-star" th:each="i : ${#numbers.sequence(1, product.rating)}"></i>
                                            <span class="text-muted small" th:text="'(' + ${product.reviewCount} + ')'"></span>
                                        </div>
                                    </div>
                                    <div class="d-grid gap-2">
                                        <a th:href="@{/products/{id}(id=${product.id})}" class="btn btn-outline-primary btn-sm">詳細を見る</a>
                                        <form th:action="@{/cart/add}" method="post" class="d-grid">
                                            <input type="hidden" name="productId" th:value="${product.id}">
                                            <button type="submit" class="btn btn-primary btn-sm" th:disabled="${!product.inStock}">
                                                <i class="fas fa-cart-plus"></i>
                                                <span th:text="${product.inStock ? 'カートに追加' : '在庫切れ'}"></span>
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-center mt-4">
                    <a href="/products" class="btn btn-primary">すべての商品を見る</a>
                </div>
            </div>
        </section>

        <!-- New Products -->
        <section class="py-5" th:if="${newProducts}">
            <div class="container">
                <h2 class="text-center mb-5">新着商品</h2>
                <div class="row g-4">
                    <div class="col-md-3" th:each="product : ${newProducts}">
                        <div class="card product-card h-100">
                            <div class="position-relative">
                                <img th:src="${product.imageUrls != null and !product.imageUrls.isEmpty() ? product.imageUrls[0] : '/images/no-image.jpg'}" 
                                     class="card-img-top" th:alt="${product.name}">
                                <span class="position-absolute top-0 start-0 badge bg-success m-2">NEW</span>
                            </div>
                            <div class="card-body d-flex flex-column">
                                <h6 class="card-title" th:text="${product.name}">商品名</h6>
                                <p class="card-text text-muted small" th:text="${product.brand}">ブランド名</p>
                                <div class="mt-auto">
                                    <div class="d-flex justify-content-between align-items-center mb-2">
                                        <span class="h5 mb-0" th:text="'¥' + ${#numbers.formatInteger(product.price, 3, 'COMMA')}">¥0</span>
                                    </div>
                                    <div class="d-grid gap-2">
                                        <a th:href="@{/products/{id}(id=${product.id})}" class="btn btn-outline-primary btn-sm">詳細を見る</a>
                                        <form th:action="@{/cart/add}" method="post" class="d-grid">
                                            <input type="hidden" name="productId" th:value="${product.id}">
                                            <button type="submit" class="btn btn-primary btn-sm" th:disabled="${!product.inStock}">
                                                <i class="fas fa-cart-plus"></i>
                                                <span th:text="${product.inStock ? 'カートに追加' : '在庫切れ'}"></span>
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="py-5 bg-light">
            <div class="container">
                <div class="row g-4">
                    <div class="col-md-4 text-center">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-shipping-fast fa-3x text-primary"></i>
                        </div>
                        <h5>迅速配送</h5>
                        <p class="text-muted">全国送料無料、最短翌日お届け</p>
                    </div>
                    <div class="col-md-4 text-center">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-robot fa-3x text-primary"></i>
                        </div>
                        <h5>AI相談サービス</h5>
                        <p class="text-muted">あなたにぴったりの商品をAIがご提案</p>
                    </div>
                    <div class="col-md-4 text-center">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-award fa-3x text-primary"></i>
                        </div>
                        <h5>品質保証</h5>
                        <p class="text-muted">厳選された高品質商品のみを販売</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Newsletter Section -->
        <section class="py-5">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-md-6 text-center">
                        <h3>最新情報をお届け</h3>
                        <p class="text-muted mb-4">新商品情報やセール情報をいち早くお知らせします</p>
                        <div class="input-group">
                            <input type="email" class="form-control" placeholder="メールアドレス">
                            <button class="btn btn-primary" type="button">購読する</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</body>
</html>
